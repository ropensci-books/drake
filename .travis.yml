language: R
cache:
  packages: true
  directories:
  - $HOME/.npm

before_install:
- npm install netlify-cli -g
- Rscript -e 'blogdown::install_hugo()'

addons:
  apt:
    packages:
      - libudunits2-dev
      - libzmq3-dev

r_packages:
  - clustermq
  - covr
  - forcats
  - ggplot2
  - ggraph
  - lintr
  - pkgdown
  - readxl
  - visNetwork

before_script:
  - chmod +x ./deploy.sh

script:
  - Rscript faq.R
  - Rscript build.R
  - ./deploy.sh
